{"version":3,"sources":["webpack:///./node_modules/@emailjs/browser/es/store/store.js","webpack:///./node_modules/@emailjs/browser/es/methods/init/init.js","webpack:///./node_modules/@emailjs/browser/es/utils/validateParams.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@emailjs/browser/es/models/EmailJSResponseStatus.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@emailjs/browser/es/api/sendPost.js","webpack:///./node_modules/@emailjs/browser/es/index.js","webpack:///./node_modules/@emailjs/browser/es/methods/send/send.js","webpack:///./src/pages/contact.js"],"names":["store","_origin","publicKey","origin","arguments","length","undefined","_userID","validateParams","serviceID","templateID","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","EmailJSResponseStatus","httpResponse","instance","TypeError","_classCallCheck","this","status","text","responseText","url","data","headers","Promise","resolve","reject","xhr","XMLHttpRequest","addEventListener","_ref","responseStatus","_ref2","open","keys","forEach","setRequestHeader","send","templatePrams","uID","params","lib_version","user_id","service_id","template_id","template_params","JSON","stringify","RequiredWarning","fieldName","style","color","ContactPage","site","useState","submitted","setSubmitted","isSending","setIsSending","formError","setFormError","useEffect","init","process","title","siteMetadata","description","className","onSubmit","e","preventDefault","formdata","FormData","templateParams","name","get","replyTo","subject","message","checkedFields","entries","filter","field","push","emailjs","then","rej","console","log","margin","lineHeight","htmlFor","includes","type","id","display","justifyContent","marginRight","disabled"],"mappings":"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","file":"component---src-pages-contact-js-dd71a2cd49e13ca1daf8.js","sourcesContent":["export var store = {\n  _origin: 'https://api.emailjs.com'\n};","import { store } from '../../store/store';\n/**\n * Initiation\n * @param {string} publicKey - set the EmailJS public key\n * @param {string} origin - set the EmailJS origin\n */\n\nexport var init = function init(publicKey) {\n  var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'https://api.emailjs.com';\n  store._userID = publicKey;\n  store._origin = origin;\n};","export var validateParams = function validateParams(publicKey, serviceID, templateID) {\n  if (!publicKey) {\n    throw 'The public key is required. Visit https://dashboard.emailjs.com/admin/account';\n  }\n\n  if (!serviceID) {\n    throw 'The service ID is required. Visit https://dashboard.emailjs.com/admin';\n  }\n\n  if (!templateID) {\n    throw 'The template ID is required. Visit https://dashboard.emailjs.com/admin/templates';\n  }\n\n  return true;\n};","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import _createClass from \"/home/runner/work/biodatlab.github.io/biodatlab.github.io/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/runner/work/biodatlab.github.io/biodatlab.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nexport var EmailJSResponseStatus = /*#__PURE__*/_createClass(function EmailJSResponseStatus(httpResponse) {\n  _classCallCheck(this, EmailJSResponseStatus);\n\n  this.status = httpResponse.status;\n  this.text = httpResponse.responseText;\n});","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import { EmailJSResponseStatus } from '../models/EmailJSResponseStatus';\nimport { store } from '../store/store';\nexport var sendPost = function sendPost(url, data) {\n  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', function (_ref) {\n      var target = _ref.target;\n      var responseStatus = new EmailJSResponseStatus(target);\n\n      if (responseStatus.status === 200 || responseStatus.text === 'OK') {\n        resolve(responseStatus);\n      } else {\n        reject(responseStatus);\n      }\n    });\n    xhr.addEventListener('error', function (_ref2) {\n      var target = _ref2.target;\n      reject(new EmailJSResponseStatus(target));\n    });\n    xhr.open('POST', store._origin + url, true);\n    Object.keys(headers).forEach(function (key) {\n      xhr.setRequestHeader(key, headers[key]);\n    });\n    xhr.send(data);\n  });\n};","import { init } from './methods/init/init';\nimport { send } from './methods/send/send';\nimport { sendForm } from './methods/sendForm/sendForm';\nexport { init, send, sendForm };\nexport default {\n  init: init,\n  send: send,\n  sendForm: sendForm\n};","import { store } from '../../store/store';\nimport { validateParams } from '../../utils/validateParams';\nimport { sendPost } from '../../api/sendPost';\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {object} templatePrams - the template params, what will be set to the EmailJS template\n * @param {string} publicKey - the EmailJS public key\n * @returns {Promise<EmailJSResponseStatus>}\n */\n\nexport var send = function send(serviceID, templateID, templatePrams, publicKey) {\n  var uID = publicKey || store._userID;\n  validateParams(uID, serviceID, templateID);\n  var params = {\n    lib_version: '3.6.2',\n    user_id: uID,\n    service_id: serviceID,\n    template_id: templateID,\n    template_params: templatePrams\n  };\n  return sendPost('/api/v1.0/email/send', JSON.stringify(params), {\n    'Content-type': 'application/json'\n  });\n};","import emailjs, { init } from \"@emailjs/browser\";\nimport { graphql } from \"gatsby\";\nimport React, { useEffect, useState } from \"react\";\nimport HelmetWrapper from \"../components/helmetWrapper\";\nimport Layout from \"../components/layout\";\n\nconst RequiredWarning = ({ fieldName }) => {\n  return (\n    <span style={{ color: \"#ff4542\" }}>{` — ${fieldName} is required!`}</span>\n  );\n};\n\nconst ContactPage = ({ data: { site } }) => {\n  const [submitted, setSubmitted] = useState(false);\n  const [isSending, setIsSending] = useState(false);\n\n  const [formError, setFormError] = useState([]);\n\n  useEffect(() => {\n    init(process.env.GATSBY_EMAILJS_USER_ID);\n  }, []);\n\n  return (\n    <Layout>\n      <HelmetWrapper\n        title={`Contact | ${site.siteMetadata.title}`}\n        description={\"Contact page of \" + site.siteMetadata.description}\n      />\n      <div className=\"two-grids -contact\">\n        <div>\n          <h1 className=\"post-title\">Contact us</h1>\n          <div className=\"primary-content\">\n            If you are interested to join the lab, collaborate, or inquire,\n            please do not hesitate to send Titipat an email (titipat.ach [AT]\n            mahidol [DOT] edu) or using the form in this page &rarr;\n          </div>\n          <div className=\"primary-content\">\n            <b>Undergraduate students: </b>\n            To discuss potential research projects or ideas, feel free to reach\n            out to Titipat and arrange a brief meeting.\n          </div>\n          <div className=\"primary-content\">\n            <b>Graduate students: </b>\n            Prospective students interested in pursuing a Masters or PhD program\n            in Biomedical Engineering at Mahidol University can submit a CV\n            along with a brief statement of their research interests before\n            applying. Additionally, they can arrange a discussion with Titipat\n            in advance. Titipat is also available for co-advising in various\n            departments outside Mahidol University, such as the Department of\n            Computer Engineering at Mahidol University, Vidyasirimedhi Institute\n            of Science and Technology (VISTEC), or Chulalongkorn University,\n            Thailand, providing multiple options for interested students.\n          </div>\n          <div className=\"primary-content\">\n            <b>Other positions: </b>The lab is always actively looking for\n            interns, researchers, and developers. If you are interested in doing\n            these position (locally or remotely), please also do not hesitate to\n            email Titipat to discuss.\n          </div>\n          <div className=\"primary-content\">\n            <b>Office: </b>\n            Mahidol University, Engineering Building 3, 3rd Floor 999\n            Phutthamonthon 4 Road, Salaya, Nakhon Pathom, Thailand 73170\n          </div>\n        </div>\n        <div>\n          <form\n            className=\"form-container\"\n            onSubmit={e => {\n              e.preventDefault();\n\n              const formdata = new FormData(e.target);\n\n              const templateParams = {\n                name: formdata.get(\"w3lName\"),\n                replyTo: formdata.get(\"w3lSender\"),\n                subject: formdata.get(\"w3lSubject\"),\n                message: formdata.get(\"w3lMessage\"),\n              };\n\n              // check required fields\n              let checkedFields = [];\n\n              Object.entries(templateParams).forEach(([key, value]) => {\n                if (!value) {\n                  checkedFields.push(key);\n                } else {\n                  checkedFields = checkedFields.filter(field => field !== key);\n                }\n              });\n\n              // set state as batch to avoid race condition\n              setFormError(checkedFields);\n\n              // if there are no errors, send email\n              if (checkedFields.length === 0) {\n                setIsSending(true);\n\n                emailjs\n                  .send(\n                    process.env.GATSBY_EMAILJS_SERVICE_ID,\n                    process.env.GATSBY_EMAILJS_TEMPLATE_ID,\n                    templateParams,\n                  )\n                  .then(\n                    () => {\n                      setSubmitted(true);\n                    },\n                    rej => {\n                      console.log(\"failed with result:\", rej);\n                    },\n                  );\n              }\n            }}\n          >\n            {submitted ? (\n              <p style={{ margin: 0, lineHeight: \"1.5em\" }}>\n                Your message has successfully been sent to Titipat! It generally\n                takes one to two days for him to reply.\n              </p>\n            ) : (\n              <>\n                <div>\n                  <label htmlFor=\"w3lName\">\n                    Name{\" \"}\n                    {formError.includes(\"name\") && (\n                      <RequiredWarning fieldName={\"Name\"} />\n                    )}\n                  </label>\n                  <input type=\"text\" name=\"w3lName\" id=\"w3lName\" />\n                </div>\n                <div>\n                  <label htmlFor=\"w3lSender\">\n                    Email\n                    {formError.includes(\"replyTo\") && (\n                      <RequiredWarning fieldName={\"Email\"} />\n                    )}\n                  </label>\n                  <input type=\"email\" name=\"w3lSender\" id=\"w3lSender\" />\n                </div>\n                <div>\n                  <label htmlFor=\"w3lSubject\">\n                    Subject\n                    {formError.includes(\"subject\") && (\n                      <RequiredWarning fieldName={\"Subject\"} />\n                    )}\n                  </label>\n                  <input type=\"text\" name=\"w3lSubject\" id=\"w3lSubject\" />\n                </div>\n                <div>\n                  <label htmlFor=\"w3lMessage\">\n                    Message\n                    {formError.includes(\"message\") && (\n                      <RequiredWarning fieldName={\"Message\"} />\n                    )}\n                  </label>\n                  <textarea name=\"w3lMessage\" id=\"w3lMessage\"></textarea>\n                </div>\n                {!isSending && (\n                  <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                    <input\n                      type=\"submit\"\n                      className=\"button -primary\"\n                      style={{ marginRight: 0 }}\n                      disabled={isSending}\n                    />\n                  </div>\n                )}\n              </>\n            )}\n          </form>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default ContactPage;\nexport const pageQuery = graphql`\n  query ContactPageQuery {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}